# Call Logger - ESPO Field Mapping

## Complete List of Fields Being Sent to ESPO

### ‚úÖ Standard ESPO Call Fields (Always Returned in Response)

| App Field Name    | ESPO Field Name   | Example Value                           | Description                 | Returned in Response?           |
| ----------------- | ----------------- | --------------------------------------- | --------------------------- | ------------------------------- |
| `name`            | `name`            | "Incoming call with Saloni Subtitle ü§™" | Call title/name             | ‚úÖ YES                          |
| `status`          | `status`          | "Held" / "Not Held" / "Planned"         | Call status                 | ‚úÖ YES                          |
| `direction`       | `direction`       | "Inbound" / "Outbound"                  | Call direction              | ‚úÖ YES                          |
| `phone`           | `phone`           | "+919106506038"                         | Other party's phone number  | ‚ùå NO (stored but not returned) |
| `description`     | `description`     | null                                    | Not used                    | ‚ùå NO                           |
| `dateStart`       | `dateStart`       | "2025-12-14 14:34:27"                   | When call started           | ‚úÖ YES                          |
| `cSeconds`        | `cSeconds`        | 17                                      | Call duration in seconds    | ‚úÖ YES                          |
| `duration`        | `duration`        | 300                                     | Default duration (not used) | ‚úÖ YES                          |
| `deleted`         | `deleted`         | false                                   | Soft delete flag            | ‚úÖ YES                          |
| `reminders`       | `reminders`       | []                                      | Call reminders              | ‚úÖ YES                          |
| `phoneNumbersMap` | `phoneNumbersMap` | {}                                      | Not used                    | ‚úÖ YES                          |

### üìã Custom Fields (Starting with 'c' - May Not Be Returned)

| App Field Name      | ESPO Field Name     | Example Value                      | Description             | Returned in Response? |
| ------------------- | ------------------- | ---------------------------------- | ----------------------- | --------------------- |
| `cContactName`      | `cContactName`      | "Saloni Subtitle ü§™"               | Contact name from phone | ‚ùå NO                 |
| `cCallType`         | `cCallType`         | "Incoming" / "Outgoing" / "Missed" | Type of call            | ‚ùå NO                 |
| `cGeocodedLocation` | `cGeocodedLocation` | "Mumbai, India"                    | Geographic location     | ‚ùå NO                 |
| `cCountryIso`       | `cCountryIso`       | "IN"                               | Country code            | ‚ùå NO                 |
| `cPhoneAccountId`   | `cPhoneAccountId`   | "89..."                            | Which SIM card used     | ‚ùå NO                 |
| `cUserPhone`        | `cUserPhone`        | "8866791095"                       | Device owner's number   | ‚ùå NO                 |

### üîó Relationship Fields (Empty by Default)

| App Field Name    | ESPO Field Name   | Example Value | Description            | Returned in Response? |
| ----------------- | ----------------- | ------------- | ---------------------- | --------------------- |
| `parentName`      | `parentName`      | null          | Parent record name     | ‚úÖ YES                |
| `accountName`     | `accountName`     | null          | Related account        | ‚úÖ YES                |
| `usersIds`        | `usersIds`        | []            | Related users IDs      | ‚úÖ YES                |
| `usersNames`      | `usersNames`      | {}            | Related users names    | ‚úÖ YES                |
| `usersColumns`    | `usersColumns`    | {}            | User columns           | ‚úÖ YES                |
| `contactsIds`     | `contactsIds`     | []            | Related contacts IDs   | ‚úÖ YES                |
| `contactsNames`   | `contactsNames`   | {}            | Related contacts names | ‚úÖ YES                |
| `contactsColumns` | `contactsColumns` | {}            | Contact columns        | ‚úÖ YES                |
| `leadsIds`        | `leadsIds`        | []            | Related leads IDs      | ‚úÖ YES                |
| `leadsNames`      | `leadsNames`      | {}            | Related leads names    | ‚úÖ YES                |
| `leadsColumns`    | `leadsColumns`    | {}            | Lead columns           | ‚úÖ YES                |

### üìä System Fields (Auto-Generated by ESPO)

| ESPO Field Name | Example Value         | Description              | Returned in Response? |
| --------------- | --------------------- | ------------------------ | --------------------- |
| `id`            | "6986ed41232e81807"   | Unique record ID         | ‚úÖ YES                |
| `createdAt`     | "2026-02-07 07:44:01" | When record was created  | ‚úÖ YES                |
| `modifiedAt`    | "2026-02-07 07:44:01" | When record was modified | ‚úÖ YES                |
| `createdById`   | "69848fdcacdece1f8"   | Who created it           | ‚úÖ YES                |
| `createdByName` | "call-log-api"        | Creator name             | ‚úÖ YES                |
| `teamsIds`      | []                    | Team IDs                 | ‚úÖ YES                |
| `teamsNames`    | {}                    | Team names               | ‚úÖ YES                |

---

## Why Some Fields Don't Appear in Response?

### 1. **Custom Fields (c\* fields)**

ESPO's API response **does not include custom fields by default**. They ARE stored in the database, but you need to:

- Check them in ESPO admin UI (Calls module)
- Or configure ESPO to return them in API responses

### 2. **`phone` and `description` Fields**

These are stored but not returned in the default API response. Check ESPO admin to verify they're saved.

### 3. **`phoneNumbersMap` Gets Cleared**

ESPO has a **workflow or formula** that's clearing this field. Check:

- Administration ‚Üí Workflows ‚Üí Call entity
- Administration ‚Üí Entity Manager ‚Üí Call ‚Üí Formula

---

## How to Verify Fields Are Actually Stored

### Method 1: Check ESPO Admin UI

1. Log into ESPO
2. Go to **Calls** module
3. Open the call record (ID: `6986ed41232e81807`)
4. You should see ALL fields including:
   - Phone: "+919106506038"
   - cContactName: "Saloni Subtitle ü§™"
   - cCallType: "Incoming"
   - cCountryIso: "IN"
   - cUserPhone: "8866791095"
   - etc.

### Method 2: Check Database Directly

If you have database access:

```sql
SELECT * FROM call WHERE id = '6986ed41232e81807';
```

### Method 3: Configure API to Return Custom Fields

In ESPO, you can configure which fields are returned in API responses:

1. Administration ‚Üí Entity Manager ‚Üí Call
2. Click on each custom field
3. Check "API Return" or similar option

---

## Summary

**‚úÖ We ARE sending all these fields:**

- 11 standard fields
- 6 custom fields (c\* prefix)
- 11 relationship fields
- Total: **28 fields**

**üì• ESPO returns in response:**

- Only ~15-20 standard fields
- Custom fields are stored but not returned
- This is normal ESPO API behavior

**üîç To see all stored data:**

- Check ESPO admin UI ‚Üí Calls module
- Open the specific call record
- All fields will be visible there
